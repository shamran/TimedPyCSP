\section{Implementering}

\subsubsection{Now og Wait}
Som vi beskrev i \des introducerede vi de to globale funktioner Now og Wait der hhv. returnedere tiden og fik en proces til at vente i et givent tidsrum. Vi har ændret den interne implementation af funktionerne, så de bruger realtid, og bruge funktionen Now alle steder hvor tiden skal bruges i stedet  for direkte at bruge pythons funktionalitet til at bestemme time. Dette sikre en ensartet implementering af time på tværs af de tre udviklede versioner af TimedPyCSP.

\subsubsection{Overskrednen deadlines}
Planlægning i realtime kræver beslutning for hvordan sproget håndterer overskredne deadlines. Man kan vælge enten at se det som en egenskab for processen hvor dens deadline enten kan være overholdt eller ej. Alternativt kan der kan en overskredenent deadline resultere i en exception. Hvilken metode der egner sig bedst til RTP afhænger af hvilken deadline der er tilknyttet processen. Er der tilknyttet en ``soft deadline'' til en proces, vil en lille overskridelse af deadline
\begin{itemize}
\item DeadlineException
\item Now
\item Release() f.eks i iterationer
\item to køer kaldet has\_priority og no\_priority, og deres brug i funktionen activate
\item Process udvidet med: \\self.inherit\_priotity = []     \\
        self.deadline = None\\
        self.internal\_priority = float("inf")\\
        self.has\_priority = False\\
            if isinstance(arg, pycsp.greenlets.channelend.ChannelEndRead):\\
                arg.channel.\_addReaderProcess(self)\\
            if isinstance(arg, pycsp.greenlets.channelend.ChannelEndWrite):\\
                arg.channel.\_addWriterProcess(self)
\item def Set\_deadline(value,process=None):
\item def Remove\_deadline(process=None):
\item def SetInheritance(process):
\item def ResetInheritance(process):
\item Channel:\\
        self.readerprocesses = []\\
        self.writerprocesses = []

\item Udviddet \_read og \_write
\item Udvidder match
\item     def choose(self) i alternation


\end{itemize}
